\hypertarget{classcon__handler}{}\doxysection{con\+\_\+handler Class Reference}
\label{classcon__handler}\index{con\_handler@{con\_handler}}


comunicador del server  




{\ttfamily \#include $<$con\+\_\+handler.\+h$>$}

Inheritance diagram for con\+\_\+handler\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classcon__handler}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef boost\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classcon__handler}{con\+\_\+handler}} $>$ \mbox{\hyperlink{classcon__handler_ada4a1b970f9fd8e55460a58cf7f7ce2c}{pointer}}
\begin{DoxyCompactList}\small\item\em puntero compartido \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcon__handler_a18e7e450430ebe71687a0fd0c79507aa}{con\+\_\+handler}} (boost\+::asio\+::io\+\_\+service \&io\+\_\+service)
\begin{DoxyCompactList}\small\item\em constructor que hereda de sock \end{DoxyCompactList}\item 
tcp\+::socket \& \mbox{\hyperlink{classcon__handler_a4aeb143c75c33d6a0f784f54059eac0a}{socket}} ()
\begin{DoxyCompactList}\small\item\em crea la dirreccion el socket \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classcon__handler_a02d6691e226a75525a2ac83062b5c7f7}{start}} ()
\begin{DoxyCompactList}\small\item\em metodo que recibe las peticiones de forma asincronica \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classcon__handler_a3b8e9edfc8fed79fcba0242a58b54bc2}{handle\+\_\+read}} (const boost\+::system\+::error\+\_\+code \&err, size\+\_\+t bytes\+\_\+transferred)
\begin{DoxyCompactList}\small\item\em metodo que recibe las peticiones de forma asincronica \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classcon__handler_a10169d7b3588adb849d7e7c02c46375a}{handle\+\_\+write}} (const boost\+::system\+::error\+\_\+code \&err, size\+\_\+t bytes\+\_\+transferred)
\begin{DoxyCompactList}\small\item\em metodo que manda los resultados al cliente \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classcon__handler_a7712576c7420917a6ebb0dde444818ca}{operaciones}} ()
\begin{DoxyCompactList}\small\item\em metodo que realiza las acciones para el juego y los multiples juegos \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classcon__handler_ada4a1b970f9fd8e55460a58cf7f7ce2c}{pointer}} \mbox{\hyperlink{classcon__handler_aecd14c051679da346c5c0e8d853037c0}{create}} (boost\+::asio\+::io\+\_\+service \&io\+\_\+service)
\begin{DoxyCompactList}\small\item\em puntero estatico \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
comunicador del server 



Definition at line 29 of file con\+\_\+handler.\+h.



\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classcon__handler_ada4a1b970f9fd8e55460a58cf7f7ce2c}\label{classcon__handler_ada4a1b970f9fd8e55460a58cf7f7ce2c}} 
\index{con\_handler@{con\_handler}!pointer@{pointer}}
\index{pointer@{pointer}!con\_handler@{con\_handler}}
\doxysubsubsection{\texorpdfstring{pointer}{pointer}}
{\footnotesize\ttfamily typedef boost\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classcon__handler}{con\+\_\+handler}}$>$ \mbox{\hyperlink{classcon__handler_ada4a1b970f9fd8e55460a58cf7f7ce2c}{con\+\_\+handler\+::pointer}}}



puntero compartido 



Definition at line 35 of file con\+\_\+handler.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcon__handler_a18e7e450430ebe71687a0fd0c79507aa}\label{classcon__handler_a18e7e450430ebe71687a0fd0c79507aa}} 
\index{con\_handler@{con\_handler}!con\_handler@{con\_handler}}
\index{con\_handler@{con\_handler}!con\_handler@{con\_handler}}
\doxysubsubsection{\texorpdfstring{con\_handler()}{con\_handler()}}
{\footnotesize\ttfamily con\+\_\+handler\+::con\+\_\+handler (\begin{DoxyParamCaption}\item[{boost\+::asio\+::io\+\_\+service \&}]{io\+\_\+service }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



constructor que hereda de sock 


\begin{DoxyParams}{Parameters}
{\em io\+\_\+service} & servicio de entrada y salida \\
\hline
\end{DoxyParams}


Definition at line 40 of file con\+\_\+handler.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{40 : sock(io\_service)\{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcon__handler_aecd14c051679da346c5c0e8d853037c0}\label{classcon__handler_aecd14c051679da346c5c0e8d853037c0}} 
\index{con\_handler@{con\_handler}!create@{create}}
\index{create@{create}!con\_handler@{con\_handler}}
\doxysubsubsection{\texorpdfstring{create()}{create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcon__handler_ada4a1b970f9fd8e55460a58cf7f7ce2c}{con\+\_\+handler\+::pointer}} con\+\_\+handler\+::create (\begin{DoxyParamCaption}\item[{boost\+::asio\+::io\+\_\+service \&}]{io\+\_\+service }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



puntero estatico 


\begin{DoxyParams}{Parameters}
{\em io\+\_\+service} & servicio de entrada y salida \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
un puntero creado 
\end{DoxyReturn}


Definition at line 10 of file con\+\_\+handler.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{10                                                                       \{}
\DoxyCodeLine{11     \textcolor{keywordflow}{return} \mbox{\hyperlink{classcon__handler_ada4a1b970f9fd8e55460a58cf7f7ce2c}{pointer}}(\textcolor{keyword}{new} \mbox{\hyperlink{classcon__handler_a18e7e450430ebe71687a0fd0c79507aa}{con\_handler}}(io\_service));}
\DoxyCodeLine{12 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classcon__handler_a3b8e9edfc8fed79fcba0242a58b54bc2}\label{classcon__handler_a3b8e9edfc8fed79fcba0242a58b54bc2}} 
\index{con\_handler@{con\_handler}!handle\_read@{handle\_read}}
\index{handle\_read@{handle\_read}!con\_handler@{con\_handler}}
\doxysubsubsection{\texorpdfstring{handle\_read()}{handle\_read()}}
{\footnotesize\ttfamily void con\+\_\+handler\+::handle\+\_\+read (\begin{DoxyParamCaption}\item[{const boost\+::system\+::error\+\_\+code \&}]{err,  }\item[{size\+\_\+t}]{bytes\+\_\+transferred }\end{DoxyParamCaption})}



metodo que recibe las peticiones de forma asincronica 



Definition at line 50 of file con\+\_\+handler.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{50                                                                                         \{}
\DoxyCodeLine{51     \textcolor{keywordflow}{if} (!err) \{}
\DoxyCodeLine{52 }
\DoxyCodeLine{53     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{54         std::cerr << \textcolor{stringliteral}{"error: "} << err.message() << std::endl;}
\DoxyCodeLine{55         \textcolor{comment}{//sock.close();}}
\DoxyCodeLine{56     \}}
\DoxyCodeLine{57 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classcon__handler_a10169d7b3588adb849d7e7c02c46375a}\label{classcon__handler_a10169d7b3588adb849d7e7c02c46375a}} 
\index{con\_handler@{con\_handler}!handle\_write@{handle\_write}}
\index{handle\_write@{handle\_write}!con\_handler@{con\_handler}}
\doxysubsubsection{\texorpdfstring{handle\_write()}{handle\_write()}}
{\footnotesize\ttfamily void con\+\_\+handler\+::handle\+\_\+write (\begin{DoxyParamCaption}\item[{const boost\+::system\+::error\+\_\+code \&}]{err,  }\item[{size\+\_\+t}]{bytes\+\_\+transferred }\end{DoxyParamCaption})}



metodo que manda los resultados al cliente 



Definition at line 59 of file con\+\_\+handler.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{59                                                                                          \{}
\DoxyCodeLine{60     \textcolor{keywordflow}{if} (!err) \{}
\DoxyCodeLine{61 }
\DoxyCodeLine{62     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{63         std::cerr << \textcolor{stringliteral}{"error: "} << err.message() << endl;}
\DoxyCodeLine{64         \textcolor{comment}{// sock.close();}}
\DoxyCodeLine{65     \}}
\DoxyCodeLine{66 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classcon__handler_a7712576c7420917a6ebb0dde444818ca}\label{classcon__handler_a7712576c7420917a6ebb0dde444818ca}} 
\index{con\_handler@{con\_handler}!operaciones@{operaciones}}
\index{operaciones@{operaciones}!con\_handler@{con\_handler}}
\doxysubsubsection{\texorpdfstring{operaciones()}{operaciones()}}
{\footnotesize\ttfamily void con\+\_\+handler\+::operaciones (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



metodo que realiza las acciones para el juego y los multiples juegos 



Definition at line 68 of file con\+\_\+handler.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{68                               \{}
\DoxyCodeLine{69      boost::property\_tree::ptree arbolP =genarbol(this-\/>data);}
\DoxyCodeLine{70      \textcolor{keywordflow}{if}(arbolP.get<std::string>(\textcolor{stringliteral}{"id"})==\textcolor{stringliteral}{"lista"})\{}
\DoxyCodeLine{71 }
\DoxyCodeLine{72          accionesLista(arbolP);}
\DoxyCodeLine{73      \}}
\DoxyCodeLine{74      \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(arbolP.get<std::string>(\textcolor{stringliteral}{"id"})==\textcolor{stringliteral}{"arbol"})\{}
\DoxyCodeLine{75          std::cout << \textcolor{stringliteral}{"entra a acciones"}<< std::endl;}
\DoxyCodeLine{76          accionesArbol(arbolP);}
\DoxyCodeLine{77      \}}
\DoxyCodeLine{78 }
\DoxyCodeLine{79 }
\DoxyCodeLine{80 }
\DoxyCodeLine{81 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classcon__handler_a4aeb143c75c33d6a0f784f54059eac0a}\label{classcon__handler_a4aeb143c75c33d6a0f784f54059eac0a}} 
\index{con\_handler@{con\_handler}!socket@{socket}}
\index{socket@{socket}!con\_handler@{con\_handler}}
\doxysubsubsection{\texorpdfstring{socket()}{socket()}}
{\footnotesize\ttfamily tcp\+::socket \& con\+\_\+handler\+::socket (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



crea la dirreccion el socket 

\begin{DoxyReturn}{Returns}
el socket 
\end{DoxyReturn}


Definition at line 14 of file con\+\_\+handler.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{14                                \{}
\DoxyCodeLine{15     \textcolor{keywordflow}{return} sock;}
\DoxyCodeLine{16 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classcon__handler_a02d6691e226a75525a2ac83062b5c7f7}\label{classcon__handler_a02d6691e226a75525a2ac83062b5c7f7}} 
\index{con\_handler@{con\_handler}!start@{start}}
\index{start@{start}!con\_handler@{con\_handler}}
\doxysubsubsection{\texorpdfstring{start()}{start()}}
{\footnotesize\ttfamily void con\+\_\+handler\+::start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



metodo que recibe las peticiones de forma asincronica 



Definition at line 18 of file con\+\_\+handler.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{18                         \{}
\DoxyCodeLine{19     \textcolor{keywordtype}{char} dato[max\_length];}
\DoxyCodeLine{20 }
\DoxyCodeLine{21 }
\DoxyCodeLine{22     sock.async\_read\_some(}
\DoxyCodeLine{23             boost::asio::buffer(dato, max\_length),}
\DoxyCodeLine{24             boost::bind(\&\mbox{\hyperlink{classcon__handler_a3b8e9edfc8fed79fcba0242a58b54bc2}{con\_handler::handle\_read}},}
\DoxyCodeLine{25                         shared\_from\_this(),}
\DoxyCodeLine{26                         boost::asio::placeholders::error,}
\DoxyCodeLine{27                         boost::asio::placeholders::bytes\_transferred));}
\DoxyCodeLine{28 }
\DoxyCodeLine{29 }
\DoxyCodeLine{30     std::string raw=\textcolor{stringliteral}{""};}
\DoxyCodeLine{31     raw =dato;}
\DoxyCodeLine{32     \textcolor{comment}{//std::cout << dato<< std::endl;}}
\DoxyCodeLine{33     \textcolor{keywordtype}{int} ps = raw.find(\textcolor{stringliteral}{"\}"});}
\DoxyCodeLine{34     this-\/>data = raw.substr(0,ps+1);}
\DoxyCodeLine{35     std::cout << this-\/>data<< std::endl;}
\DoxyCodeLine{36     dato[0] = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{37     \mbox{\hyperlink{classcon__handler_a7712576c7420917a6ebb0dde444818ca}{operaciones}}();}
\DoxyCodeLine{38 }
\DoxyCodeLine{39 }
\DoxyCodeLine{40 }
\DoxyCodeLine{41     sock.async\_write\_some(}
\DoxyCodeLine{42             boost::asio::buffer(this-\/>message, max\_length),}
\DoxyCodeLine{43             boost::bind(\&\mbox{\hyperlink{classcon__handler_a10169d7b3588adb849d7e7c02c46375a}{con\_handler::handle\_write}},}
\DoxyCodeLine{44                         shared\_from\_this(),}
\DoxyCodeLine{45                         boost::asio::placeholders::error,}
\DoxyCodeLine{46                         boost::asio::placeholders::bytes\_transferred));}
\DoxyCodeLine{47 }
\DoxyCodeLine{48 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
servidor/con\+\_\+handler.\+h\item 
servidor/con\+\_\+handler.\+cpp\end{DoxyCompactItemize}
